# 2024.02.05 TIL

## 협업에 대한 고찰
- github, gitlab 이슈 기반 작업
    - '협업'과 '정리', '목표 설정'에서 의미가 있는 이슈 설정
    - 지금까지 전혀 활용 안함
    - 지금부터라도 활용하도록 노력할 것

- 틈틈이 커밋
    - 기능 하나 구현할 때마다 커밋해도 된다고 생각
    - 프로젝트 기간에는 커밋이 30~40개 나와야함
    - 틈틈이 커밋해놔야 '개발의 흐름'을 파악하기 쉽고, '되감기'가 수월해지며 '협업' 효율이 증가한다.

- 브랜치 잘게 짜르기
    - 협업의 기본인 브랜치. 들여야하는 최소한의 노력은 '내 이름'으로 브랜치를 파서 기능을 만든다.
    - 목표는, 기능 별로 브랜치를 파서, 내 이름과 작성하려는 기능을 모두 브랜치명에서 볼 수 있게 하고, 해당 기능을 완성하면 merge 후 바로 브랜치 삭제

## git reset
- reset은 특정 커밋 지점으로 돌아가는 것
- soft와 hard가 있고 soft는 기록들을 남기며 돌아가는 것
- hard는 기록을 싹 다 지우며 돌아가는 것

```
git reset <커밋 번호> --soft
```


## formData 전송 문제
- 기존에, json 형식의 데이터와 이미지 파일을 함께 보낼 때, 일단 json 데이터를 formData에 저장한 후, 이후 formData에 image file을 객체 형식으로 append 해주는 방식으로 'multipart/form-data' 형식으로 보냈다.
    - 이 방식을 활용하면, 서버에서 알아서 이미지가 포함된 경우엔 multipart 데이터로, 이미지가 없을 경우엔 json 데이터로 인식해 해독해 왔다.

- But, 오늘 일어난 케이스는, controller가 이를 제대로 인식하지 못하는 케이스였다.
    - 이미지가 포함된 경우엔 정상적으로 데이터를 받아와 해독했지만, 제외된 경우엔 controller가 image가 포함이 안 되어 있다는 이유로 데이터를 block하고, 클라이언트에 400에러를 보냈다.

- 그동안 잘 인식하다가 왜 오늘부터 이를 block하는 지는 잘 모르겠지만, 해결방안은 2가지가 있다.
    - 클라이언트에서 if문을 통해 이미지가 포함되어 있는 경우와 안 포함되어 있는 경우를 구분하고, 없는 경우엔 문자열이나 null등을 추가해서 보내는 것이다
    - 서버에서 controller에 조건을 줘, 이미지가 없는 상황에서도 받을 수 있도록 한다