# 오늘 한 일

1. 동일 페이지 접속 블록
2. 프로젝트 라우팅 설정

## 동일 페이지 접속 블록

### 목적

배경

```
프로젝트에서 공부한 피드를 저장하여 게시하는 기능이 있다.
우리는 임시 피드를 서버에 하나만 저장하도록 할 것이다.
```

문제점

```
임시 피드는 하나만 저장할 것이기 때문에, 공부 페이지를 동시에 여러 창 띄우게 되면 에러가 발생할 수 있다.
```

따라서, 같은 페이지를 한 사용자가 동시에 여러개 띄울 수 없도록 방지하고자 한다.

### 아이디어

1. 캐시 메모리 이용

   캐시 서버를 두고 사용자가 해당 페이지에 들어올 때 캐시에 사용자에 대한 정보를 입력받아 동일한 사용자가 접속을 시도하면 차단한다.

   이때, 새로고침, 페이지 이동, 브라우저 종료 등 이벤트(useBeforeUnload)가 발생하면 캐시에 있는 사용자 데이터를 삭제하고, 페이지에 해당 컴포넌트가 로드(onLoad)될때, 캐시 데이터를 등록한다.

   이 방법은, 컴퓨터가 강제종료 될 때 문제가 발생한다.

   컴퓨터가 강제종료될 때는 Unload 이벤트가 발생하지 않으므로, 인식할 수 없다. <br>
   따라서, 이를 인삭할 수 있는 방법을 찾거나, 시간을 두어 세션에서 사용자를 제거하는 방법을 생각해 보았다.

   하지만, 전자는 찾지 못했고, 후자는 강제 종료한 사용자가 일정 시간이 되기 전까지 접속할 수 없다는 문제와, 일정 시간동안 동작하지 않은 사용자가 두 페이지를 접속할 수 없다는 단점이 있다.

   - 구현 (repository: test-SamePageBlocking)

2. 임시 피드 이용

   페이지를 블락하지 말고 그냥 열어두되, 저장하는 방식을 변경한다.

   임시피드가 있다면, 어떤 페이지에서 랜딩하든 저장된 피드를 띄워주고, 저장할 때 이미 어떤 페이지에서라도 저장된 피드라면 경고창으로 이미 저장된 피드임을 알려준다.

## 프로젝트 라우팅 설정

- repository: Frontend
- commit: 'Fix: 라우팅 수정'
