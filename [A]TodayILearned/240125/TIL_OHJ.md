# 2024.01.25 TIL

## Figma 작업 및 PPT 준비
- PPT 테마
    - 핑크색 배경
    - 사용자가 실제로 앱을 사용한다고 생각하고, 메인기능을 어떤 flow로 활용하게 될지 시각적으로 보여주길 원함
    - 발표자의 의견 적극적 수용
    - ppt 페이지들 간에 상관관계 표시

- Figma 업데이트
    - 피드 디테일에 공부한 시간 추가
    - 메인 페이지 오른쪽 아래 시계 추가
    - 공부 페이지 알림 표시, 시간로그, 토글 추가, 취소/저장 버튼 추가
    - 공부 요약 페이지에 전송 버튼 추가
    - 마이 페이지 공부 계획, 다이어리 업데이트, 통계 내용 추가
    - 마이 페이지 다른 인물들 페이지 + 팔로우 버튼 추가 + 프로필에서 DM 가능하게

## 토큰 저장에 대한 고민
- 로컬 스토리지 혹은 세션 스토리지에 저장하는 것은 XSS 공격에 취약함
    -  XSS(Cross-Site Scripting, 크로스사이트 스크립팅)은 공격자가 입력한 악성스크립트가 사용자 측에서 응답하는 취약점

- 쿠키에 저장하는 것은 CSRF 공격에 대한 취약성이 있음
    - access_token을 활용한 공격이 가능하기 때문

- 완벽한 해결책은 없음
    - why?
        - 어찌됬건 내가 인증을 한 상태에서는 서버에서 나에게 허용된 어떤 API들이 있는데 그 API들은 마찬가지로 XSS를 통해 해커도 호출할 수 있다는 얘기기 때문이다.

- 가장 안전한 방법은, 
    - Access Token을 자바스크립트 private 변수로 저장
        - private 변수로 저장된 Access Token은 XSS 공격으로 탈취할 수 없고, 당연히 CSRF 공격을 당할 가능성도 없음
    - 쿠키는 HTTP ONLY SECURE로 설정해 refresh token을 넣는다
        - 해커는 http only secure 쿠키 특성상 리프레시 토큰 자체를 털 방법이 없다.